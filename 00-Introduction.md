# イントロダクション

JavaScriptの中心的な言語的特徴は、ECMA-262によって標準化されています。この仕様によって定められる言語はECMAScript（以下、ES）と呼ばれます。実際、ブラウザやNode.jsのJavaScriptはESのスーパーセットです。ブラウザやNode.jsは追加のオブジェクトやメソッドによって更なる機能を追加していますが、言語の中心的な部分はESの定義に基づいています。ECMA-262の継続的な開発はJavaScriptの発展に不可欠であり、本著は最新のアップデートによって更新された「ECMAScript6」での変更に対応しています。

## ECMAScript6への道

2007年、JavaScriptはある岐路に立っていました。Ajaxの人気が動的Webアプリケーションの新時代の到来を告げた一方、JavaScriptは1999年にECMA-262が第3版に改訂されて以降、大きな変更はありませんでした。TC-39（Technical Committee、ESを策定する専門委員会）はES4仕様の草案をまとめました。ES4は範囲が膨大で、さまざまな変化を取り入れました。アップデートされた内容には、新しい構文、モジュール、クラス、クラスの継承、privateメンバ、オプショナル型アノテーションなどを含みました。

ES4の範囲の変更はTC-39の不和を起こし、なかでもメンバー数人はESがあまりにも多くのことをトライしているように感じていました。そこでYahoo、Google、Microsoftのリーダー達によるグループは、ES3.1という新たな代替案を作成しました。この「3.1」は、既存のスタンダードへの段階的な変化であることを示すためのものでした。

ES3.1はわずかな構文の変更のみを行い、プロパティの属性、ネイティブJSONのサポート、既存のオブジェクトへのメソッドの追加に焦点を当てました。初期段階でES3.1と4の調整しようとする試みはありましたが、どのように言語を発展させていくべきかという点において2つのグループはまったく異なる視点を持っていたため、この調整は最終的に失敗に終わりました。

2008年、ブレンダン・アイク（JavaScriptの開発者）は、TC-39がES3.1の標準化を試みることを発表しました。彼らは、ESの新バージョンが標準化するまでES4の構文と特徴の変更を一旦延期し、専門委員会のメンバーはES3.1と4の良い部分を合わせたES「Harmony」に尽力することになりました。

ES3.1は最終的にECMA-262の第5版として標準化され、ES5として発表されました。専門委員会は、かつての同名の構想との混乱を避けるため、ES「4」というバージョンをリリースすることはありませんでした。ES Harmonyがスタートしたのち、ES6は新しいハーモニーを奏でながら（in this new “harmonious” sprit）最初のスタンダードとしてリリースされました。

ES6は、2015年に実装を完了し、正式に「ECMAScript2015」と名づけられました（ただしWebデベロッパーにはES6という呼称で呼ばれるため、本文ではこちらを採用します）。特徴は、完全に新しいオブジェクトや構文の変更パターンから既存のオブジェクトに対する新しいメソッドにまでわたります。このES6に関するエキサイティングな変更は、Webデベロッパーが実際に直面していた問題の解決に向けられています。

## この本について

ES6の機能をしっかりと理解することは、すべてのJavaScriptデベロッパーが前に進むために重要な鍵となります。ES6で取り入れられた機能は、JavaScriptのアプリケーションが築くであろう近い将来の基盤となるでしょう。そこでこの本の出番です。著者である私の願いは、読者のみなさんがES6を理解するためにこの本を読むことで、必要なときにこの言語をすぐに使い始めることができるように準備できることです。

### ブラウザとNode.jsの適合性

ブラウザやNode.jsのよなJavaScriptの実行環境の多くは、ES6の実装に積極的に取り組んでいます。本著は仕様の矛盾に対処しようとするのではなく、正常な動作として何が仕様となっているのかに焦点を当てています。そのため、本著で書かれた動作がJavaScriptの実行環境に準拠していない場合があります。

### 誰のために書かれた本か

本著はJavaScriptとES5をすでに理解している方を読者として想定しています。本著を読むためにこれらの言語を完璧に理解する必要はありませんが、ES5と6の違いを理解する助けにはなるでしょう。とりわけ本著は、最新の言語の動向を理解したい、ブラウザやNode.js環境でプログラミングを行う中級〜上級のJavaScriptデベロッパーを対象としています。
よって本著は、JavaScriptを書いたことがない初心者を対象とはしていません。読者のみなさんは本著を活用するためにこの言語の基礎をしっかりと理解する必要があるでしょう。

### 概観

本著の全13章では、ES6のあらゆる側面を網羅しています。多くの章で、ES6での変更点を説明するために、これらの変更点が解決した問題について書いています。またすべての章では、読者が構文と概念を理解するためにコードの例を記しました。

**第1章：ブロックバインディングのしくみ** `let` と `const`について, `var`のブロックレベルの置き換えについて。

**第2章：文字列と正規表現**は、文字列の操作と検査、およびテンプレート文字列の導入のための追加機能を扱います。

**第3章：ECMAScript 6の関数**では、関数のさまざまな変更について説明しています。これには、矢印の関数形式、デフォルトのパラメータ、残りのパラメータなどが含まれます。

**第4章：オブジェクトの拡張機能**では、オブジェクトの作成、変更、および使用方法の変更について説明しています。トピックには、オブジェクトのリテラル構文の変更、および新しいリフレクション方法が含まれます。

**第5章：より簡単なデータアクセスのためのデストラクション**では、オブジェクトと配列の分解を紹介しています。これにより、オブジェクトと配列を簡潔な構文で分解できます。

**第6章：シンボルとシンボルのプロパティ**ではシンボルの概念を紹介し、プロパティを定義する新しい方法を紹介します。シンボルは、オブジェクトのプロパティとメソッドを覆い隠すために使用できる新しいプリミティブ型です（隠すわけではありません）。

**第7章：セットとマップ** `Set`, `WeakSet`, `Map`, と `WeakMap`の新しいコレクションタイプが詳しく説明されています。これらの型は、JavaScriptのために特別に設計されたセマンティクス、デデュープ、メモリ管理を追加することで、配列の有用性を広げます。

**第8章：イテレータとジェネレータ**では、イテレータとジェネレータを言語に追加する方法について説明します。これらの機能を使用すると、以前のバージョンのJavaScriptでは不可能だった強力な方法でデータのコレクションを扱うことができます。

**第9章：JavaScriptクラスの紹介**では、JavaScriptのクラスの最初の正式な概念を紹介しています。多くの場合、他の言語から来ている人にとっては混乱の点があります.JavaScriptでクラス構文を追加すると、他の言語にもっと親しみやすくなり、愛好家にとってはより簡潔になります。

**第10章：改良された配列機能**では、ネイティブ配列に対する変更とJavaScriptで使用できる新しい方法を詳しく説明しています。

**第11章：約束と非同期プログラミング**は、言語の新しい部分としての約束を紹介しています。約束は、草の根的な努力であり、広範な図書館のサポートのために、最終的に人気を博しました。 ECMAScript 6は、約束を正式化し、デフォルトで利用可能にします。

**第12章：プロキシとリフレクションAPI **には、JavaScript用の正式なリフレクションAPIと、オブジェクトに対して実行されたすべての操作をインターセプトできる新しいプロキシオブジェクトが導入されています。プロキシは、開発者にオブジェクトに対する前例のない制御を提供し、したがって、新しいインタラクションパターンを定義する無限の可能性を提供します。

**第13章：モジュールによるコードのカプセル化**では、JavaScriptの公式なモジュール形式について詳しく説明しています。これらのモジュールは、長年にわたって登場してきた多数のアドホックモジュール定義フォーマットに取って代わることができます。

**付録A：より小さいECMAScript 6の変更点**では、ECMAScript 6で実装されているその他の変更については、あまり頻繁には使用しませんが、各章で扱う主要なトピックにはあまり適合しません。

**付録B：ECMAScript 7（2016）の理解**では、ECMAScript 7用に実装された標準への2つの追加について説明します。これは、ECMAScript 6ほどJavaScriptに影響を与えませんでした。


### 表記について

本著では以下の表記を用いています。

* *Italics* は新しい用語を示しています
* `Constant width` はコードもしくはファイル名を示しています

また、長いコードの例はこのように表します。

```js
function doSomething() {
    // empty
}
```

 `console.log()` の右側のコメントは、コード実行時にブラウザまたはNode.jsコンソールに表示される出力を示します。たとえば、次のようになります。

```js
console.log("Hi");      // "Hi"
```

エラーはこのように示します。

```js
doSomething();          // error!
```

### お問い合わせ

以下でイシューを立て、変更を提案し、本著に対するプルリクエストをすることができます: [https://github.com/nzakas/understandinges6](https://github.com/nzakas/understandinges6)

<!-- I would suggest leaving the note above out of the print version, since readers
won't be able to file issues on it. /JG -->

本著に関する質問があれば、私のメーリングリストにメッセージを送ってください: [http://groups.google.com/group/zakasbooks](http://groups.google.com/group/zakasbooks).


## 謝辞

Jennifer Griffith-Delgado, Alison Law, そして No Starch Pressの皆さまのこの本に関する支援に感謝申し上げます。 長期間にわたる病気の中での私の生産性の低下に関する彼らのご理解とご辛抱を私は忘れることができません。

また、テクニカルエディターのJuriy Zaytsevと、この本で扱った概念の一部を明確にしてくれたAxel Rauschmayer博士のフィードバックと議論に感謝申し上げます。

GitHub上にホスティングされた本著のフィックスにご協力いただいた以下の皆さま、ありがとうございました。 ShMcK, Ronen Elster, Rick Waldron, blacktail, Paul Salaets, Lonniebiz, Igor Skuhar, jakub-g, David Chang, Kevin Sweeney, Kyle Simpson, Peter Bakondy, Philip Borisov, Shaun Hickson, Steven Foote, kavun, Dan Kielp, Darren Huskie, Jakub Narębski, Jamund Ferguson, Josh Lubaway, Marián Rusnák, Nikolas Poniros, Robin Pokorný, Roman Lo, Yang Su, alexyans, robertd, 404, Aaron Dandy, AbdulFattah Popoola, Adam Richeimer, Ahmad Ali, Aleksandar Djindjic, Arjunkumar, Ben Regenspan, Carlo Costantini, Dmitri Suvorov, Kyle Pollock, Mallory, Erik Sundahl, Ethan Brown, Eugene Zubarev, Francesco Pongiluppi, Jake Champion, Jeremy Caney, Joe Eames, Juriy Zaytsev, Kale Worsley, Kevin Lozandier, Lewis Ellis, Mohsen Azimi, Navaneeth Kesavan, Nick Bottomley, Niels Dequeker, Pahlevi Fikri Auliya, Prayag Verma, Raj Anand, Ross Gerbasi, Roy Ling, Sarbbottam Bandyopadhyay, and Shidhin.

そしてこの本を支援してくれたCasey Viscoに感謝を。
